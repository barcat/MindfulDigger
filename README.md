# MindfulDigger

## 1. Project Name
MindfulDigger

## 2. Project Description
MindfulDigger is a web application designed to support users in their introspection process. It allows users to regularly jot down notes—capturing thoughts, emotions, and events—and provides automatic, weekly summaries generated by a Language Model (LLM). The core aim is to help users identify trends, patterns, recurring themes, and the connections between events and emotions within their own writings, acting as an "impartial observer."

The Minimum Viable Product (MVP) focuses on essential features:
*   Creating and managing personal notes.
*   Securely storing user data.
*   Generating insightful summaries manually on demand.
*   A simple and secure user account system.

This tool addresses the common challenge faced by individuals who keep personal journals: the difficulty in systematically analyzing scattered entries to extract meaningful insights for personal growth and self-understanding.

## 3. Tech Stack

*   **Frontend:**
    *   .NET 8 (Razor Pages/MVC): For server-side HTML generation.
    *   Alpine.js: For lightweight client-side interactivity.
    *   Tailwind CSS: A utility-first CSS framework for styling.
*   **Backend:**
    *   .NET 8 Web API: For business logic and API endpoints.
    *   Supabase: Backend-as-a-Service platform.
        *   PostgreSQL: Database.
        *   Auth: User authentication.
        *   C# SDK: For interacting with Supabase services.
*   **AI Integration:**
    *   Openrouter.ai: To access a variety of LLMs (e.g., OpenAI, Anthropic, Google models) for generating summaries.
*   **CI/CD & Hosting:**
    *   GitHub Actions: For continuous integration and deployment pipelines.

## 4. Getting Started Locally

### Prerequisites
*   [.NET 8 SDK](https://dotnet.microsoft.com/download/dotnet/8.0)
*   [Node.js and npm](https://nodejs.org/) (for frontend asset building)
*   A [Supabase](https://supabase.com/) account (or a local Supabase instance). You'll need your Supabase Project URL and Anon Key.
*   An [Openrouter.ai](https://openrouter.ai/) API Key.

### Installation & Setup

1.  **Clone the repository:**
    ```bash
    git clone https://github.com/your-username/MindfulDigger.git
    cd MindfulDigger
    ```

2.  **Configure Backend Settings:**
    *   You will need to configure your Supabase URL, Supabase Anon Key, and Openrouter.ai API Key. It's recommended to use user secrets for development or configure them in `MindfulDigger/MindfulDigger/appsettings.Development.json`.
    *   Example structure for `appsettings.Development.json`:
        ```json
        {
          "Logging": {
            "LogLevel": {
              "Default": "Information",
              "Microsoft.AspNetCore": "Warning"
            }
          },
          "Supabase": {
            "Url": "YOUR_SUPABASE_URL",
            "AnonKey": "YOUR_SUPABASE_ANON_KEY"
          },
          "OpenRouter": {
            "ApiKey": "YOUR_OPENROUTER_API_KEY"
          }
        }
        ```

3.  **Install Frontend Dependencies:**
    Navigate to the root directory of the repository (where `package.json` is located) and run:
    ```bash
    npm install
    ```

4.  **Build Frontend Assets (Tailwind CSS):**
    Run the following command to compile the Tailwind CSS:
    ```bash
    npm run build:css
    ```
    This will generate `tailwind.generated.css` in the `MindfulDigger/wwwroot/css/` directory.

5.  **Run the Application:**
    Navigate to the ASP.NET Core project directory:
    ```bash
    cd MindfulDigger
    ```
    Then, run the application:
    ```bash
    dotnet run
    ```
    The application should now be running locally, typically at `https://localhost:port` or `http://localhost:port`.

## 5. Available Scripts

In the `package.json` located at the root of the repository, the following script is available:

*   **`npm run build:css`**
    *   Compiles the Tailwind CSS from `MindfulDigger/wwwroot/css/tailwind.css` into `MindfulDigger/wwwroot/css/tailwind.generated.css` and minifies it. This script should be run after any changes to Tailwind configuration or utility classes used in the HTML/Razor files.

## 6. Project Scope (MVP)

### Key Features:
*   **User Authentication:** Secure registration and login using email and password. Includes password reset functionality and a password policy (min. 8 characters, 1 digit, 1 special character).
*   **Note Creation:** Users can create new text notes (up to 1000 characters) via a modal form.
*   **Note Viewing:** Notes are displayed in a 3-column list, sorted from newest to oldest, showing the creation date and a snippet of content (up to 120 characters).
*   **Automatic Weekly Summaries:** The system automatically generates weekly summaries of the user's notes using an LLM.
*   **Summary Viewing:** Summaries are accessible on a dedicated page/section, with content displayed in a modal.
*   **Manual Summary Generation:** Users can manually trigger summary generation for specific periods (last 7, 14, or 30 days, or the last 10 notes) via a modal interface.
*   **Summary Feedback:** Users can provide feedback (thumbs up/down) on the usefulness of generated summaries.
*   **Storage Limits:** Users can store up to 100 notes.
*   **Data Retention:** User data (notes and summaries) is automatically deleted after 3 months of account inactivity.

### Out of Scope for MVP:
*   Tagging and categorizing notes.
*   Advanced text editor features (e.g., rich text formatting, media embedding).
*   Importing notes from external applications.
*   Sharing notes or summaries between users.
*   Advanced, explicit sentiment and emotion analysis (beyond what the LLM summary provides).
*   Native mobile applications (web-only for MVP).
*   Integrations with calendars or task management systems.
*   Detailed user account settings (beyond password changes).
*   Full-text search within notes.
*   System notifications (e.g., for new summaries, account deletion warnings).

## 7. Project Status
MindfulDigger is currently in the **Minimum Viable Product (MVP) development phase**. Features are being actively developed and refined based on the core requirements.

## 8. License
This project is licensed under the **MIT License**. See the `LICENSE` file for more details (if one is added to the repository).